#ifndef	__OBJECT_DISPATCHER_H__
#define	__OBJECT_DISPATCHER_H__

#include "..\base\Collaborator.h"

RDPS_BEGIN
	
	PKG_BEGIN class Container; PKG_END

	PDCT_BEGIN
		/********************************************************************************************************************************************
		 *
		 * Classe Resposavel em de enviar os dados para a aplicacao,
		 * onde serao processados para gerar o produto final.
		 * Nela consiste:
		 * -> uma referencia ao conteiner de pacotes para serem enviados.
		 * E, eh capaz enviar e receber mensagens.
		 *
		 ********************************************************************************************************************************************/
		class ObjectDispatcher : public Collaborator
		{
		private:
			PKG Container *container;

		public:
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Construtor
			 * Recebe como parametro o container de pacotes que será enviado.
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			ObjectDispatcher(PKG Container *_container = nullptr);
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Construtor de copia
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			ObjectDispatcher(const ObjectDispatcher &other);
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Destrutor padrao
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			~ObjectDispatcher();
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Funcao auxiliar que retorna o container de pacotes
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			PKG Container *GetContainer() const;

			ObjectDispatcher &SetContainer(PKG Container *_container);

			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Funcao auxiliar que gera uma copia do objeto.
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			virtual Collaborator *Clone();
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Funcao auxiliar para inicializacao dos dados da classe
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			virtual Collaborator &Init();
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Funcao auxiliar para execucao da funcao do colaborador
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			virtual Collaborator &ExecuteFunction();
			/*---------------------------------------------------------------------------------------------------------------------------------------
			 * Funcao auxiliar para sair da execucao
			 *---------------------------------------------------------------------------------------------------------------------------------------*/
			virtual Collaborator &Exit();
		};

	PDCT_END
RDPS_END

#endif//__OBJECT_DISPATCHER_H__